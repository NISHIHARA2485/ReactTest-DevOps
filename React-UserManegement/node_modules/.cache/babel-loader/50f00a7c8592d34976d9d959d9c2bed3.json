{"ast":null,"code":"import _slicedToArray from\"C:\\\\React\\\\React-UserManegement\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\slicedToArray.js\";import axios from\"axios\";import{useCallback,useState}from\"react\";import{useHistory}from\"react-router-dom\";import{useMessage}from\"./useMessage\";export var useAuth=function useAuth(){var history=useHistory();var _useMessage=useMessage(),showMessage=_useMessage.showMessage;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],setLoading=_useState2[1];var login=useCallback(function(id){setLoading(true);axios.get(\"https://jsonplaceholder.typicode.com/users/\".concat(id)).then(function(res){if(res.data){showMessage({title:\"ログインしました\",status:\"success\"});history.push(\"/home\");}else{showMessage({title:\"ユーザーが見つかりません\",status:\"error\"});}}).catch(function(){return showMessage({title:\"ログインできません\",status:\"error\"});}).finally(function(){return setLoading(false);});},[history]);return{login:login,loading:loading};};","map":{"version":3,"sources":["C:/React/React-UserManegement/src/hooks/useAuth.ts"],"names":["axios","useCallback","useState","useHistory","useMessage","useAuth","history","showMessage","loading","setLoading","login","id","get","then","res","data","title","status","push","catch","finally"],"mappings":"2HAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,WAAT,CAAsBC,QAAtB,KAAsC,OAAtC,CACA,OAASC,UAAT,KAA2B,kBAA3B,CAEA,OAASC,UAAT,KAA2B,cAA3B,CAEA,MAAO,IAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,EAAM,CAC3B,GAAMC,CAAAA,OAAO,CAAGH,UAAU,EAA1B,CACA,gBAAwBC,UAAU,EAAlC,CAAQG,WAAR,aAAQA,WAAR,CACA,cAA8BL,QAAQ,CAAC,KAAD,CAAtC,wCAAOM,OAAP,eAAgBC,UAAhB,eACA,GAAMC,CAAAA,KAAK,CAAGT,WAAW,CACvB,SAACU,EAAD,CAAgB,CACdF,UAAU,CAAC,IAAD,CAAV,CACAT,KAAK,CACFY,GADH,sDAC2DD,EAD3D,GAEGE,IAFH,CAEQ,SAACC,GAAD,CAAS,CACb,GAAIA,GAAG,CAACC,IAAR,CAAc,CACZR,WAAW,CAAC,CAAES,KAAK,CAAE,UAAT,CAAqBC,MAAM,CAAE,SAA7B,CAAD,CAAX,CACAX,OAAO,CAACY,IAAR,CAAa,OAAb,EACD,CAHD,IAGO,CACLX,WAAW,CAAC,CAAES,KAAK,CAAE,cAAT,CAAyBC,MAAM,CAAE,OAAjC,CAAD,CAAX,CACD,CACF,CATH,EAUGE,KAVH,CAUS,iBACLZ,CAAAA,WAAW,CAAC,CAAES,KAAK,CAAE,WAAT,CAAsBC,MAAM,CAAE,OAA9B,CAAD,CADN,EAVT,EAaGG,OAbH,CAaW,iBAAMX,CAAAA,UAAU,CAAC,KAAD,CAAhB,EAbX,EAcD,CAjBsB,CAkBvB,CAACH,OAAD,CAlBuB,CAAzB,CAoBA,MAAO,CAAEI,KAAK,CAALA,KAAF,CAASF,OAAO,CAAPA,OAAT,CAAP,CACD,CAzBM","sourcesContent":["import axios from \"axios\";\r\nimport { useCallback, useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { User } from \"../types/api/user\";\r\nimport { useMessage } from \"./useMessage\";\r\n\r\nexport const useAuth = () => {\r\n  const history = useHistory();\r\n  const { showMessage } = useMessage();\r\n  const [loading, setLoading] = useState(false);\r\n  const login = useCallback(\r\n    (id: string) => {\r\n      setLoading(true);\r\n      axios\r\n        .get<User>(`https://jsonplaceholder.typicode.com/users/${id}`)\r\n        .then((res) => {\r\n          if (res.data) {\r\n            showMessage({ title: \"ログインしました\", status: \"success\" });\r\n            history.push(\"/home\");\r\n          } else {\r\n            showMessage({ title: \"ユーザーが見つかりません\", status: \"error\" });\r\n          }\r\n        })\r\n        .catch(() =>\r\n          showMessage({ title: \"ログインできません\", status: \"error\" })\r\n        )\r\n        .finally(() => setLoading(false));\r\n    },\r\n    [history]\r\n  );\r\n  return { login, loading };\r\n};\r\n"]},"metadata":{},"sourceType":"module"}